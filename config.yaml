# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# ðŸŒ™ SLEEPTELLER SAMPLE CONFIGURATION FILE
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# This is a sample configuration file for SleepTeller.
# Copy this file to the configs directory and modify it for your own projects.
# 
# NOTE: The filename (without extension) will be used as the project name.
# For example, if you name this file "forest_walk.yaml", the project name will be "forest_walk".

# Project name (optional, will use filename if not specified)
project_name: "sleepteller_demo"

# LLM Configuration
llm:
  # API base URL for the LLM service (default is LM Studio local server)
  api_base: "http://localhost:1234/v1"
  # Optional seed for reproducibility (will be randomized if not specified)
  # seed: 42  # Uncomment and set a value to use a fixed seed

# Story Generation Configuration
story:
  # Target duration in minutes (story will continue generating until this is reached)
  target_duration_minutes: 60
  # LLM model to use
  model: "gemma-3-12b-it-qat"
  # Maximum tokens per LLM request
  max_tokens_per_chunk: 1000
  # Temperature for generation (higher = more creative, lower = more focused)
  temperature: 0.7
  # Number of words per chunk when generating the story
  chunk_size: 500
  # Number of words to keep as context from previous chunks
  context_size: 200
  # Average duration of each sentence in minutes (e.g., 0.13 = 7.8 seconds)
  sentence_duration_minutes: 0.14

# Voice Generation Configuration
voice:
  # URL to your TTS server
  tts_server: "http://localhost:5001/generate"
  # Voice profile to use
  voice_sample: 
    - "G:\\Projects\\big_business\\sleeptale\\lib\\voice\\Dude.mp3"
    - "G:\\Projects\\big_business\\sleeptale\\lib\\voice\\Ruby.mp3"
  # Number of sentences to combine into a single voice line
  sentences_per_voice_line: 1
  # Audio normalization settings
  normalization:
    # Target dB level for audio normalization
    target_db: -20.0
    # Whether to automatically normalize generated audio
    enabled: true
  # Tempo manipulation settings
  tempo:
    enabled: true  # Set to true to enable
    factor: 0.9     # < 1.0 slows down, > 1.0 speeds up
  # Echo effect settings
  echo:
    enabled: true  # Set to true to enable
    delay: 0.1      # Delay in seconds
    decay: 0.05      # Echo volume decay (0-1)
  # Rubberband configuration for high-quality tempo manipulation
  rubberband:
    path: "C:\\Dev\\rubberband-4.0.0-gpl-executable-windows\\rubberband.exe"  # Path to rubberband executable

# Video Generation Configuration
video:
  # Delay before voice lines start playing (in seconds)
  start_delay: 5.0
  # Delay after voice lines finish (in seconds)
  end_delay: 10.0
  # Delay range between each voice line (in seconds)
  line_delay_min: 0.65
  line_delay_max: 1.05
  # Background music volume (relative to voice lines, 0.0-1.0)
  music_volume: 0.5
  # Video resolution (width x height) - used for quality scaling
  resolution: "1920x1080"
  # Video encoding settings
  encoding:
    # Video codec (e.g., libx264, hevc_nvenc for NVIDIA GPU acceleration)
    video_codec: "libx264"
    # Video bitrate
    video_bitrate: "8M"
    # Audio codec
    audio_codec: "aac"
    # Audio bitrate
    audio_bitrate: "192k"
    # Frames per second
    fps: 30
    # Number of threads to use for encoding (0 = auto)
    threads: 0
